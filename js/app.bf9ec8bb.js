(function(e){function t(t){for(var s,l,a=t[0],i=t[1],u=t[2],d=0,f=[];d<a.length;d++)l=a[d],Object.prototype.hasOwnProperty.call(r,l)&&r[l]&&f.push(r[l][0]),r[l]=0;for(s in i)Object.prototype.hasOwnProperty.call(i,s)&&(e[s]=i[s]);c&&c(t);while(f.length)f.shift()();return o.push.apply(o,u||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],s=!0,a=1;a<n.length;a++){var i=n[a];0!==r[i]&&(s=!1)}s&&(o.splice(t--,1),e=l(l.s=n[0]))}return e}var s={},r={app:0},o=[];function l(t){if(s[t])return s[t].exports;var n=s[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,l),n.l=!0,n.exports}l.m=e,l.c=s,l.d=function(e,t,n){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(l.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)l.d(n,s,function(t){return e[t]}.bind(null,s));return n},l.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="/vue-roistest/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],i=a.push.bind(a);a.push=t,a=a.slice();for(var u=0;u<a.length;u++)t(a[u]);var c=i;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";n("85ec")},"23b2":function(e,t,n){},4236:function(e,t,n){"use strict";n("23b2")},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var s=n("2b0e"),r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("modal-form",{staticClass:"ml-12 mb-12"}),n("the-table")],1)},o=[],l=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("table",{staticClass:"tableWrapper "},[e._l(this.header,(function(t){return n("tr",{key:t.id},[n("th",{staticClass:"w-80 cursor-pointer",on:{click:e.sortHandle}},[e._v(" "+e._s(t.name)+" ")]),n("th",{staticClass:"cursor-pointer",on:{click:e.sortHandle}},[e._v(" "+e._s(t.tel)+" ")])])})),e._l(e.userList,(function(e){return n("NestedTable",{key:e.id,attrs:{users:e,label:"name"}})}))],2)},a=[],i=n("5530"),u=(n("b0c0"),n("2f62")),c=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("table",{},[n("tr",[n("td",{staticClass:"w-80 text-center border"},[n("button",{directives:[{name:"show",rawName:"v-show",value:"tel"!==e.label&&e.users.children.length>0,expression:"label !== 'tel' && users.children.length > 0"}],staticClass:"\n          p-0 w-6 h-7\n          openButton\n          outline-none\n          focus:outline-none\n          ",on:{click:e.openHandler}},[e._v(" + ")]),n("span",{staticClass:"text-lg"},[e._v(e._s(e.users.name))])]),n("td",{staticClass:"text-lg w-96 border"},[n("span",[e._v(e._s(e.users.tel))])])])]),n("ul",{directives:[{name:"show",rawName:"v-show",value:e.users.children&&e.open,expression:"users.children && open"}]},e._l(e.users.children,(function(t){return n("NestedTable",{key:t.id,staticClass:"ml-3",attrs:{users:t,label:e.label}})})),1)])},d=[],f={name:"NestedTable",props:{users:Object,label:String},data:function(){return{open:!1}},methods:{openHandler:function(){this.open=!0!==this.open}}},p=f,m=(n("4236"),n("2877")),b=Object(m["a"])(p,c,d,!1,null,"23e07105",null),h=b.exports,g=[{id:1,name:"Alex",tel:"8 (999) 999-99-99",children:[{id:2,name:"Nicky",tel:"8 (888) 888-88-88",children:[{id:3,name:"Travis",tel:"8 (888) 888-88-88",children:[]}]},{id:4,name:"Roma",tel:"8 (888) 888-88-88",children:[]}]},{id:5,name:"Masha",tel:"8 (999) 999-99-99",children:[]},{id:6,name:"Andrew",tel:"8 (999) 999-99-99",children:[]},{id:7,name:"Nastya",tel:"8 (999) 999-99-99",children:[]},{id:8,name:"Sveta",tel:"8 (999) 999-99-99",children:[]}],v={name:"TheTable",components:{NestedTable:h},computed:Object(i["a"])({},Object(u["b"])({userList:"Users"})),data:function(){return{open:!0,header:[{name:"Имя",tel:"Телефон",sortToggle:!1}]}},methods:{sortHandle:function(){this.sortToggle?(g.sort((function(e,t){return e.name.toLowerCase()<t.name.toLowerCase()?1:-1})),this.sortToggle=!1):(g.sort((function(e,t){return e.name.toLowerCase()>t.name.toLowerCase()?1:-1})),this.sortToggle=!0)}}},w=v,y=Object(m["a"])(w,l,a,!1,null,"000bcdcb",null),x=y.exports,_=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",[n("button",{staticClass:"\n     text-white\n     rounded\n     font-semibold\n     shadow-lg\n     bg-blue-400\n     px-5\n     hover:bg-blue-500\n     outline-none\n     focus:outline-none\n     py-4",on:{click:function(t){e.toggleModal=!e.toggleModal}}},[e._v(" Добавить ")]),e.toggleModal?n("div",{staticClass:"\n    fixed overflow-x-hidden\n    overflow-y-auto\n    inset-0\n    flex\n    justify-center\n    items-center\n    z-50"},[n("div",{staticClass:"\n    relative\n    mx-auto\n    w-96\n    "},[n("div",{staticClass:"bg-white w-full rounded shadow-2xl flex flex-col "},[n("div",{staticClass:"flex justify-between"},[n("span",{staticClass:"font-semibold p-5 mt-2"},[e._v(" Добавление пользователя ")]),n("button",{staticClass:"p-4 outline-none focus:outline-none",on:{click:function(t){e.toggleModal=!e.toggleModal}}},[e._v(" X ")])]),n("div",{staticClass:"flex justify-between w-auto flex-col"},[n("div",{staticClass:"px-6 py-2 text-left flex items-center justify-between"},[n("span",{staticClass:"font-light mr-5"},[e._v(" Имя ")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.newUserForm["name"],expression:"newUserForm['name']"}],staticClass:"\n               bg-gray-200\n               border-2 border-gray-100\n               focus:outline-none\n               bg-gray-100 block py-2 px-4 rounded-lg\n               focus:border-gray-300 ",domProps:{value:e.newUserForm["name"]},on:{input:function(t){t.target.composing||e.$set(e.newUserForm,"name",t.target.value)}}})]),n("div",{staticClass:"px-6 py-2 text-left flex items-center justify-between"},[n("span",{staticClass:"font-light mr-5"},[e._v(" Телефон ")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.newUserForm.tel,expression:"newUserForm.tel"}],staticClass:"\n               bg-gray-200\n               border-2 border-gray-100\n               focus:outline-none\n               bg-gray-100 block py-2 px-4 rounded-lg\n               focus:border-gray-300 ",domProps:{value:e.newUserForm.tel},on:{input:function(t){t.target.composing||e.$set(e.newUserForm,"tel",t.target.value)}}})]),n("div",{staticClass:"px-6 py-2 text-left flex items-center justify-between"},[n("span",{staticClass:"font-light mr-5"},[e._v(" Начальник ")]),n("select",{directives:[{name:"model",rawName:"v-model",value:e.userSelect,expression:"userSelect"}],staticClass:"\n               bg-gray-200\n               border-2 border-gray-100\n               focus:outline-none\n               bg-gray-100 block py-2 px-4 rounded-lg\n               focus:border-gray-300 w-3/5",on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.userSelect=t.target.multiple?n:n[0]}}},e._l(e.bosses,(function(t){return n("option",{key:t.id},[n("span",[e._v(e._s(t.name))])])})),0)])]),n("button",{staticClass:"\n     rounded bg-pink-400\n     hover:bg-pink-500\n     outline-none\n     font-semibold\n     focus:outline-none\n     shadow-lg\n     text-white px-5 py-2 ml-6 mt-1 w-1/2 mb-5",on:{click:e.addUser}},[e._v(" Сохранить ")])])])]):e._e(),e.toggleModal?n("div",{staticClass:"absolute inset-0 opacity-25 bg-black z-40"}):e._e()])])},C=[],U={name:"modalForm",computed:Object(i["a"])({},Object(u["b"])({userList:"Users",newUserForm:"NewUserForm"})),data:function(){return{toggleModal:!1,userSelect:"",bosses:[],test:this.$store.state.userList}},methods:{bossList:function(e){for(var t=0;t<e.length;t+=1)this.bosses.push(e[t]),e[t].children&&this.bossList(e[t].children)},addUser:function(){this.toggleModal=!1,this.$store.dispatch("POST_ADD_USER",this.userSelect),this.userSelect="",this.bosses=[],this.bossList(this.userList)}},mounted:function(){this.bossList(this.userList)}},j=U,O=Object(m["a"])(j,_,C,!1,null,"7ac89692",null),k=O.exports,F={name:"App",components:{ModalForm:k,TheTable:x}},L=F,S=(n("034f"),Object(m["a"])(L,r,o,!1,null,null,null)),T=S.exports;s["a"].use(u["a"]);var M=new u["a"].Store({state:{userList:g,newUserForm:{tel:"",name:"",id:null,children:[]}},mutations:{addUser:function(e,t){function n(t,s){for(var r=0;r<t.length;r+=1)t[r].name===s?(console.log(t[r].name),t[r].children.push(e.newUserForm)):n(t[r].children,s)}t?n(e.userList,t):e.userList.push(e.newUserForm),e.newUserForm={tel:"",name:"",id:null,children:[]}}},actions:{POST_ADD_USER:function(e,t){var n=e.commit;n("addUser",t)}},modules:{},getters:{Users:function(e){return e.userList},NewUserForm:function(e){return e.newUserForm}}});n("ba8c");s["a"].config.productionTip=!1,new s["a"]({store:M,render:function(e){return e(T)}}).$mount("#app")},"85ec":function(e,t,n){},ba8c:function(e,t,n){}});
//# sourceMappingURL=app.bf9ec8bb.js.map